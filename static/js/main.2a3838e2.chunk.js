(this["webpackJsonptrap-camera-auto-curation"]=this["webpackJsonptrap-camera-auto-curation"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},30:function(e,t,s){},31:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(12),i=s.n(a),r=s(4),l=(s(26),s(27),s.p+"static/media/nature.9cf43db0.svg"),o=(s(28),s(0));var d=function(e){return Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)("h2",{children:e.sectionTitle}),e.line?Object(o.jsx)("div",{className:"line"}):null]})};var j=function(){return Object(o.jsxs)("div",{id:"overview",children:[Object(o.jsx)(d,{sectionTitle:"Overview",line:!1}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h1",{children:"Camera Auto Curation"}),Object(o.jsx)("p",{id:"description",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s."}),Object(o.jsx)("a",{href:"https://github.com/cheang150/trap-camera-auto-curation",target:"_blank",className:"primaryButton",rel:"noreferrer",children:"Source Code"}),Object(o.jsx)("img",{src:l,alt:"nature illustration"})]})]})},u=s(5);s(30);var b=function(){return Object(o.jsxs)("div",{className:"filter",children:[Object(o.jsx)("span",{children:"Filter by"}),Object(o.jsxs)("select",{className:"filterList",children:[Object(o.jsx)("option",{value:"all files",children:"All Files"}),Object(o.jsx)("option",{value:"avi",children:"AVI"}),Object(o.jsx)("option",{value:"mov",children:"MOV"}),Object(o.jsx)("option",{value:"mp4",children:"MP4"})]})]})},O=(s(31),s.p+"static/media/expand.d1190c40.svg"),h=s.p+"static/media/edit.cf44daae.svg",m=s.p+"static/media/reject.5a103cf8.svg",p=s.p+"static/media/tick-gray.5d3f1dda.svg",x=s.p+"static/media/close.45c6ea8a.svg",f=s.p+"static/media/download.8057372f.svg",v=s(8),g=s.n(v),N=s(20),y=s(21),S=s.n(y);var C=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],i=n[1],l=function(e){console.log("expand"),i(e)},j=function(e){var t=s(43)(),c=0;e.forEach((function(s,n){var a=s.replace(/[\/]/gi,"").replace("trap-camera-auto-curationstaticmedia","");S.a.getBinaryContent(s,(function(s,n){t.file(a,n,{binary:!0}),++c===e.length&&t.generateAsync({type:"blob"}).then((function(e){Object(N.saveAs)(e,"auto-curation-photos.zip")}))}))}))};return Object(o.jsxs)("div",{id:"result",children:[Object(o.jsx)(d,{sectionTitle:"Results",line:!0}),Object(o.jsx)("div",{className:"resultFilter",children:Object(o.jsx)(b,{})}),Object(o.jsxs)("div",{className:"statistics",children:[Object(o.jsxs)("div",{className:"stat",children:[Object(o.jsx)("h3",{children:"54000"}),Object(o.jsxs)("p",{children:["Frames",Object(o.jsx)("br",{}),"Analysed"]})]}),Object(o.jsxs)("div",{className:"stat",children:[Object(o.jsx)("h3",{children:"351"}),Object(o.jsxs)("p",{children:["Frames",Object(o.jsx)("br",{}),"Selected"]})]}),Object(o.jsxs)("div",{className:"stat",children:[Object(o.jsx)("h3",{children:"182"}),Object(o.jsxs)("p",{children:["Invertebrates",Object(o.jsx)("br",{}),"Detected"]})]})]}),Object(o.jsxs)("div",{className:"shortlisted",children:[Object(o.jsx)(d,{sectionTitle:"Short-listed Candidates",line:!1}),Object(o.jsxs)(g.a,{isOpen:a,onRequestClose:function(){return i(!1)},className:"expandModal",overlayClassName:"paramsModalOverlay",children:[Object(o.jsx)("img",{src:a,alt:"expand",className:"expandPhoto"}),Object(o.jsxs)("div",{className:"expandTools",children:[Object(o.jsx)("a",{href:a,download:!0,children:Object(o.jsx)("img",{src:f,alt:"download icon",className:"expandTool"})}),Object(o.jsx)("img",{src:x,alt:"close icon",className:"expandTool",onClick:function(){return i(!1)}})]})]}),Object(o.jsx)("div",{className:"photoList",children:e.shortlisted.map((function(t,s){return Object(o.jsxs)("div",{className:"photo",children:[Object(o.jsx)("img",{src:t,alt:"shortlisted",className:"photoSrc"}),Object(o.jsxs)("div",{className:"photoTools",children:[Object(o.jsx)("img",{src:O,alt:"expand icon",className:"tools",onClick:function(){return l(t)}}),Object(o.jsx)("img",{src:h,alt:"edit icon",className:"tools"}),Object(o.jsx)("img",{src:m,alt:"reject icon",className:"tools",onClick:function(){return t=s,console.log(t),e.setShortlisted((function(e){return e.filter((function(e,s){return s!==t}))})),void e.setPotential((function(s){return[].concat(Object(u.a)(s),[e.shortlisted[t]])}));var t}})]})]},s)}))}),Object(o.jsx)("div",{className:"download",children:Object(o.jsx)("button",{className:"primaryButton",onClick:function(){return j(e.shortlisted)},children:"Download"})})]}),Object(o.jsxs)("div",{className:"potential",children:[Object(o.jsx)(d,{sectionTitle:"Potential Candidates",line:!1}),Object(o.jsx)("div",{className:"photoList",children:e.potential.map((function(t,s){return Object(o.jsxs)("div",{className:"photo",children:[Object(o.jsx)("img",{src:t,alt:"shortlisted",className:"photoSrc"}),Object(o.jsxs)("div",{className:"photoTools",children:[Object(o.jsx)("img",{src:O,alt:"expand icon",className:"tools",onClick:function(){return l(t)}}),Object(o.jsx)("img",{src:h,alt:"edit icon",className:"tools"}),Object(o.jsx)("img",{src:p,alt:"accept icon",className:"tools",onClick:function(){return t=s,e.setPotential((function(e){return e.filter((function(e,s){return s!==t}))})),void e.setShortlisted((function(s){return[].concat(Object(u.a)(s),[e.potential[t]])}));var t}})]})]},s)}))}),Object(o.jsx)("div",{className:"download",children:Object(o.jsx)("button",{className:"primaryButton",onClick:function(){return j(e.potential)},children:"Download"})})]})]})},T=(s(51),s.p+"static/media/settings.0027e295.svg");g.a.setAppElement("#root");var L=function(e){var t=Object(c.useState)(!1),s=Object(r.a)(t,2),n=s[0],a=s[1],i=Object(c.useState)("ESPCN"),l=Object(r.a)(i,2),d=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(r.a)(u,2),O=b[0],h=b[1],m=Object(c.useState)(!0),p=Object(r.a)(m,2),x=p[0],f=p[1],v=function(){a(!1)},N=function(e){j(e.target.innerHTML)},y=function(e){"On"===e.target.innerHTML?h(!0):h(!1)},S=function(e){"On"===e.target.innerHTML?f(!0):f(!1)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{id:"processButton",children:Object(o.jsx)("button",{className:"primaryButton",disabled:e.loading,onClick:function(){a(!0)},children:"Process"})}),Object(o.jsx)(g.a,{isOpen:n,onRequestClose:v,className:"paramsModal",overlayClassName:"paramsModalOverlay",children:Object(o.jsxs)("div",{className:"modalChild",children:[Object(o.jsx)("img",{src:T,alt:"settings icon",className:"settingsIcon"}),Object(o.jsxs)("div",{className:"params",children:[Object(o.jsxs)("div",{className:"data",children:[Object(o.jsx)("h3",{children:"Parameters Configuration"}),Object(o.jsx)("p",{children:"You can customize the configuration by changing it below."})]}),Object(o.jsxs)("div",{className:"data",children:[Object(o.jsx)("h3",{children:"Super-resolution Model"}),Object(o.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing."}),Object(o.jsxs)("div",{className:"buttonGrp",children:[Object(o.jsx)("button",{id:"ESPCN"===d?"resModelButton":null,onClick:N,children:"ESPCN"}),Object(o.jsx)("button",{id:"FSRCNN"===d?"resModelButton":null,onClick:N,children:"FSRCNN"}),Object(o.jsx)("button",{id:"LapSRN"===d?"resModelButton":null,onClick:N,children:"LapSRN"})]})]}),Object(o.jsx)("div",{className:"paramsLine"}),Object(o.jsxs)("div",{className:"data",children:[Object(o.jsx)("h3",{children:"Histogram Equalizer"}),Object(o.jsx)("p",{children:"Adjust image's contrast based on tonal distribution."}),Object(o.jsxs)("div",{className:"buttonGrp",children:[Object(o.jsx)("button",{id:!0===O?"histEqButton":null,onClick:y,children:"On"}),Object(o.jsx)("button",{id:!1===O?"histEqButton":null,onClick:y,children:"Off"})]})]}),Object(o.jsxs)("div",{className:"data",children:[Object(o.jsx)("h3",{children:"Auto Enhancement"}),Object(o.jsx)("p",{children:"Sharpen image using convolution kernal matrix."}),Object(o.jsxs)("div",{className:"buttonGrp",children:[Object(o.jsx)("button",{id:!0===x?"enhanceButton":null,onClick:S,children:"On"}),Object(o.jsx)("button",{id:!1===x?"enhanceButton":null,onClick:S,children:"Off"})]})]}),Object(o.jsx)("button",{className:"primaryButton",onClick:function(){a(!1),e.setProcessing(!0),alert("Processing ".concat(e.videos.length," videos with ").concat(d," ").concat(O," ").concat(x))},children:"Save"}),Object(o.jsx)("button",{className:"secondaryButton",onClick:v,children:"Cancel"})]})]})})]})},k=(s(52),s.p+"static/media/search.2c535048.svg");var D=function(){return Object(o.jsxs)("div",{className:"searchBar",children:[Object(o.jsx)("input",{type:"text",placeholder:"Search"}),Object(o.jsx)("button",{type:"submit",children:Object(o.jsx)("img",{src:k,alt:"search icon"})})]})},B=s(13);var E=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var s=t.current;return s.addEventListener("dragover",e.handleDrag),s.addEventListener("drop",e.handleDrop),function(){s.removeEventListener("dragover",e.handleDrag),s.removeEventListener("drop",e.handleDrop)}})),Object(o.jsxs)("div",{className:"tableBox",ref:t,children:[e.loading?Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)(B.BeatLoader,{color:"#40D3ED",size:24,loading:e.loading})}):null,Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("div",{className:"tableLeft",children:[Object(o.jsx)("input",{type:"checkbox",className:"checkBox"}),Object(o.jsx)("span",{className:"fileName",children:"Name"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"fileType",children:"Type"}),Object(o.jsx)("span",{className:"fileSize",children:"Size"}),Object(o.jsx)("span",{className:"startTime",children:"Start Time"}),Object(o.jsx)("span",{className:"endTime",children:"End Time"})]})]}),e.videos.map((function(t,s){return Object(o.jsxs)("div",{className:"tableRow",children:[Object(o.jsxs)("div",{className:"tableLeft",children:[Object(o.jsx)("input",{type:"checkbox",className:"checkBox"}),Object(o.jsx)("video",{children:Object(o.jsx)("source",{src:t,type:e.types[s]})}),Object(o.jsx)("span",{className:"fileName",children:e.names[s]})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"fileType",children:e.types[s]}),Object(o.jsxs)("span",{className:"fileSize",children:[(e.sizes[s]/1e6).toFixed(2),"MB"]}),Object(o.jsx)("span",{className:"startTime",children:Object(o.jsx)("input",{type:"text",className:"startValue",defaultValue:"00:00",maxLength:5})}),Object(o.jsx)("span",{className:"endTime",children:Object(o.jsx)("input",{type:"text",className:"endValue",defaultValue:e.endTime[s],maxLength:5})})]})]},s)}))]})},P=(s(81),s.p+"static/media/upload.7039bdaa.svg");var R=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var s=t.current;return s.addEventListener("dragover",e.handleDrag),s.addEventListener("drop",e.handleDrop),function(){s.removeEventListener("dragover",e.handleDrag),s.removeEventListener("drop",e.handleDrop)}})),Object(o.jsxs)("div",{className:"uploadBox",ref:t,children:[Object(o.jsx)("img",{src:P,alt:"upload illustration"}),Object(o.jsxs)("p",{className:"uploadDesc",children:["Drop your files here, or"," ",Object(o.jsx)("span",{onClick:function(){return e.uploadRef.current.click()},children:"browse"})]}),Object(o.jsx)("p",{className:"uploadType",children:"Supports AVI, MOV, MP4"})]})};var w=function(e){var t=Object(c.useRef)(null),s=Object(c.useState)([]),a=Object(r.a)(s,2),i=a[0],l=a[1],j=Object(c.useState)([]),O=Object(r.a)(j,2),h=O[0],m=O[1],p=Object(c.useState)([]),x=Object(r.a)(p,2),f=x[0],v=x[1],g=Object(c.useState)([]),N=Object(r.a)(g,2),y=N[0],S=N[1],C=Object(c.useState)([]),T=Object(r.a)(C,2),k=T[0],B=T[1],P=Object(c.useState)(!1),w=Object(r.a)(P,2),M=w[0],A=w[1],z=function(e){e.preventDefault(),e.stopPropagation()},F=function(e){if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0){A((function(e){return!e})),m((function(t){return[].concat(Object(u.a)(t),[e.dataTransfer.files[0].name])})),v((function(t){return[].concat(Object(u.a)(t),[e.dataTransfer.files[0].size])})),S((function(t){return[].concat(Object(u.a)(t),[e.dataTransfer.files[0].type])})),l((function(t){return[].concat(Object(u.a)(t),[URL.createObjectURL(e.dataTransfer.files[0])])}));var t=new FileReader;t.onload=function(){var e=new Audio(t.result);e.onloadedmetadata=function(){var t=("0"+Math.floor(parseInt(e.duration)/60)%60).slice(-2)+":"+("0"+parseInt(e.duration)%60).slice(-2);B((function(e){return[].concat(Object(u.a)(e),[t])})),A((function(e){return!e}))}},t.readAsDataURL(e.dataTransfer.files[0]),e.dataTransfer.clearData()}};return Object(o.jsxs)("div",{id:"upload",children:[Object(o.jsx)(d,{sectionTitle:"Upload Files",line:!0}),Object(o.jsxs)("div",{className:"uploadTools",children:[Object(o.jsx)(b,{}),Object(o.jsxs)("div",{className:"rightTools",children:[Object(o.jsx)(D,{}),Object(o.jsx)("input",{type:"file",ref:t,style:{display:"none"},onChange:function(e){e.preventDefault(),e.stopPropagation(),A((function(e){return!e})),m((function(t){return[].concat(Object(u.a)(t),[e.target.files[0].name])})),v((function(t){return[].concat(Object(u.a)(t),[e.target.files[0].size])})),S((function(t){return[].concat(Object(u.a)(t),[e.target.files[0].type])})),l((function(t){return[].concat(Object(u.a)(t),[URL.createObjectURL(e.target.files[0])])}));var t=new FileReader;t.onload=function(){var e=new Audio(t.result);e.onloadedmetadata=function(){var t=("0"+Math.floor(parseInt(e.duration)/60)%60).slice(-2)+":"+("0"+parseInt(e.duration)%60).slice(-2);B((function(e){return[].concat(Object(u.a)(e),[t])})),A((function(e){return!e}))}},t.readAsDataURL(e.target.files[0])},multiple:!0}),Object(o.jsx)("button",{type:"submit",className:"primaryButton",onClick:function(){return t.current.click()},children:"Upload"})]})]}),0===i.length?Object(o.jsx)(R,{setNames:m,setTypes:S,setSizes:v,setEndTime:B,setVideos:l,uploadRef:t,handleDrag:z,handleDrop:F}):Object(o.jsxs)(n.a.Fragment,{children:[Object(o.jsx)(E,{videos:i,names:h,sizes:f,types:y,endTime:k,handleDrag:z,handleDrop:F,loading:M}),Object(o.jsx)(L,{videos:i,setShortlisted:e.setShortlisted,setPotential:e.setPotential,setProcessing:e.setProcessing,loading:M})]})]})},M=s.p+"static/media/tree.2da1e271.jpeg",A=s.p+"static/media/sunset.a4ff3009.jpeg",z=s.p+"static/media/house.82b00f19.jpg";var F=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)([M,A,z]),i=Object(r.a)(a,2),l=i[0],d=i[1],u=Object(c.useState)([M,A,z]),b=Object(r.a)(u,2),O=b[0],h=b[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{}),Object(o.jsx)(w,{setShortlisted:d,setPotential:h,setProcessing:n}),null===s?null:Object(o.jsx)(C,{processing:s,shortlisted:l,potential:O,setShortlisted:d,setPotential:h})]})};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(F,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.2a3838e2.chunk.js.map